# CLI Interpreter

![Build and test workflow status](https://github.com/deker104/convex-hull/actions/workflows/ci.yml/badge.svg?branch=master)

## Описание
Этот проект представляет собой CLI-интерпретатор, поддерживающий команды:
- `cat [FILE]` — вывести содержимое файла
- `echo` — вывести аргументы
- `wc [FILE]` — посчитать строки, слова и байты
- `pwd` — вывести текущую директорию
- `grep` — поиск по шаблону (с поддержкой регулярных выражений)
- `ls [DIR]` — вывести файлы и директории по указанному пути
- `cd [DIR]` — изменить текущую директорию на переданную
- `exit` — выйти из интерпретатора
- Поддержка пайпов (`|`) и переменных окружения

Интерпретатор работает на операционных системах Linux и Windows.

## Команда grep
Поддерживаемые возможности:
- Регулярные выражения в запросе
- Ключи:
  - `-w` — поиск только слова целиком (ограничено non-word символами)
  - `-i` — регистронезависимый поиск
  - `-A [NUM]` — печатать NUM строк после совпадения

Примеры использования:
```sh
grep "pattern" file.txt
grep -i "case_insensitive" file.txt | wc
cat file.txt | grep -w "exact_word" -A 2
```

## Выбор библиотеки для разбора аргументов
Для реализации разбора аргументов команды `grep` была выбрана библиотека **pflag** (github.com/spf13/pflag).

**Аргументация выбора:**
1. **Совместимость**: pflag совместима со стандартной библиотекой `flag`, но добавляет POSIX-стиль (--long-option)
2. **Функциональность**: Поддержка как коротких (-w), так и длинных (--word) ключей
3. **Популярность**: Широко используется в экосистеме Go, хорошая документация
4. **Простота**: Легковесное решение без избыточного функционала

**Рассмотренные альтернативы:**
- `flag` (стандартная библиотека) — отсутствует поддержка POSIX-стиля
- `kingpin` — устарела, автор рекомендует другие решения
- `cobra` — избыточна для нашей задачи

## Установка
Требуется **Go 1.23**.  
Склонируйте репозиторий:
```sh
git clone https://github.com/deker104/cli.git
cd cli-interpreter
```
Запустите сборку:
```sh
go build -o cli-interpreter ./cmd
```
Запустите:
```sh
./cli-interpreter
```

## Запуск тестов
```sh
go test ./...
```

## CI/CD
Проект использует **GitHub Actions** для автоматического тестирования.
