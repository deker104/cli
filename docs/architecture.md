# Архитектура CLI-интерпретатора

## 1. Описание проекта
CLI-интерпретатор предназначен для выполнения команд, аналогично Unix Shell.  
Он поддерживает:  
- Встроенные команды: `cat`, `echo`, `wc`, `pwd`, `exit`
- Переменные окружения: `VAR=value`, `$VAR`
- Запуск внешних программ
- Пайплайны (`|`)

## 2. Основные компоненты системы
Система состоит из следующих модулей:

1. **Парсер команд (`internal/parser`)**  
   - Разбирает входную строку
   - Учитывает кавычки (`"`, `'`)
   - Подставляет переменные окружения (`$VAR` → `значение`)

2. **Исполнитель команд (`internal/executor`)**  
   - Определяет, встроенная ли команда
   - Запускает внешние команды через `os/exec`

3. **Менеджер окружения (`internal/env`)**  
   - Хранит переменные (`VAR=value`)
   - Выполняет подстановки (`echo $VAR` → `значение`)

4. **Обработчик пайпов (`internal/pipes`)**  
   - Разбирает `|`
   - Связывает процессы через потоки

## 3. Архитектурная диаграмма
```plaintext
        ┌────────────────┐
        │  CLI Parser    │ ←──── Входная строка
        └────────────────┘
                 │
                 ▼
        ┌────────────────┐
        │ Command Executor │ ←── Переменные окружения
        └────────────────┘
          │        │
  ┌──────▼───┐    │
  │ Built-in │    │
  │ Commands │    │
  └──────▲───┘    │
         │        │
  ┌──────▼───┐    │
  │ External │    │
  │ Commands │    │
  └──────────┘    ▼
             ┌──────────────┐
             │   Pipes      │
             └──────────────┘
